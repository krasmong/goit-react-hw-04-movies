(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{100:function(t,e,n){t.exports={Searchbar:"Form_Searchbar__1vcat",form:"Form_form__3mgkE",formButton:"Form_formButton__2bDyr",formInput:"Form_formInput__2G-_8"}},44:function(t,e,n){"use strict";n.r(e);var r=n(46),a=n(47),o=n(49),s=n(48),c=n(0),i=n(85),u=n.n(i),l=n(52),h=n(19),m=n(102),f=n(20),p=(n(99),n(100)),v=n.n(p),b=n(1),d=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={query:""},t.handleChange=function(e){t.setState({query:e.currentTarget.value.toLowerCase()})},t.handleSubmit=function(e){e.preventDefault(),""!==t.state.query.trim()?(t.props.onSubmit(t.state.query),t.setState({query:""})):f.b.warn("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u0430")},t}return Object(a.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:v.a.Searchbar,children:Object(b.jsxs)("form",{className:v.a.form,onSubmit:this.handleSubmit,children:[Object(b.jsx)("button",{type:"submit",className:v.a.formButton,children:Object(b.jsx)(m.a,{style:{marginRight:8}})}),Object(b.jsx)("input",{className:v.a.formInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:this.state.query,onChange:this.handleChange})]})})}}]),n}(c.Component),j=n(56),y=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={query:"",movies:null,error:null},t.handleSearch=function(e){console.log("zapros: ",e),console.log("this.state.query: ",t.state.query);var n=t.props,r=n.history,a=n.match;r.push("".concat(a.url,"?query=").concat(e)),l.b(e).then((function(e){return t.setState({movies:e.data.results})}))},t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.location,n=e.search,r=e.pathname;if(n&&r){var a=u.a.parse(n),o=l.b(a.query);console.log(o),o.then((function(e){return t.setState({movies:e.data.results})}))}console.log("query: ",this.state.query)}},{key:"componentDidUpdate",value:function(t,e){e.query!==this.state.query&&this.fetchMovies()}},{key:"render",value:function(){var t=this.state.error;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d,{onSubmit:this.handleSearch}),Object(b.jsxs)(h.a,{title:"MoviesList",children:[Object(b.jsx)(j.a,{movies:this.state.movies}),t&&Object(b.jsx)("h3",{children:t.message})]})]})}}]),n}(c.Component);e.default=y},52:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return m}));var r=n(50),a=n.n(r),o=n(51),s=n(53),c=n.n(s);function i(){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark((function t(){var e,n,r,o=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},t.prev=2,t.next=5,c()(e,n);case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}function l(){return i("trending/movie/week")}function h(t){return i("search/movie?query=".concat(t))}function m(t){return i("movie/".concat(t))}c.a.defaults.baseURL="https://api.themoviedb.org/3",c.a.defaults.params={api_key:"91aea6be0a2d3e1853dbbebc31e6363d"}},54:function(t,e,n){t.exports={MoviesList:"MoviesList_MoviesList__JDaPq",item:"MoviesList_item__3O-hL"}},56:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0);var r=n(8),a=n(2),o=n(54),s=n.n(o),c=n(1),i=Object(a.f)((function(t){var e=t.movies,n=t.location;return Object(c.jsx)(c.Fragment,{children:e&&Object(c.jsx)("ul",{className:s.a.MoviesList,children:e.map((function(t){var e=t.id,a=t.title,o=t.name;t.release_date;return Object(c.jsx)("li",{className:s.a.item,children:Object(c.jsx)(r.b,{to:{pathname:"/movies/".concat(e),state:{from:n}},children:a||o})},e)}))})})}))}}]);
//# sourceMappingURL=5.377cf9e4.chunk.js.map