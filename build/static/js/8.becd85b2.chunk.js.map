{"version":3,"sources":["components/MovieInfo/MainInfo/MovieMainInfo.module.css","default.jpg","path.js","components/MovieInfo/MainInfo/MovieMainInfo.js","pages/MovieDetailsPage.js","servises/tmdb-api.js"],"names":["module","exports","MovieMainInfo","movie","defaultImg","title","poster_path","vote_average","overview","genres","release_date","userScore","imgPath","pathLink","imgUrl","releaseYear","slice","className","s","movieMainInfo","src","alt","width","movieDesc","text","length","map","genre","name","join","MovieDetalisPage","state","handleGoback","props","location","history","push","from","routes","home","a","movieId","this","match","params","getFetch","response","setState","data","console","log","type","onClick","handleGobak","Component","fetchMoviesCommon","url","config","axios","fetchMoviesTrending","fetchMovieOnSubmit","query","fetchMovieById","defaults","baseURL","api_key"],"mappings":"6HACAA,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,UAAY,iCAAiC,UAAY,iCAAiC,cAAc,qC,mHCDhK,MAA0B,oC,QCA1B,EACA,iC,yBCgDAC,EA7CO,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,WAE5BC,EAMEF,EANFE,MACAC,EAKEH,EALFG,YACAC,EAIEJ,EAJFI,aACAC,EAGEL,EAHFK,SACAC,EAEEN,EAFFM,OACAC,EACEP,EADFO,aAGIC,EAA2B,GAAfJ,EAEZK,EAAO,UAAMC,GAAN,OAA6BP,GACpCQ,EAASR,EAAcM,EAAUR,EACjCW,EAAcL,EAAaM,MAAM,EAAG,GAE1C,OACE,mCACE,sBAAKC,UAAWC,IAAEC,cAAlB,UACE,qBAAKF,UAAU,WAAf,SACE,qBAAKA,UAAU,SAASG,IAAKN,EAAQO,IAAKhB,EAAOiB,MAAO,QAG1D,sBAAKL,UAAWC,IAAEK,UAAlB,UACE,qBAAIN,UAAU,QAAd,UACGZ,EADH,IACWU,EADX,OAGA,oBAAGE,UAAWC,IAAEM,KAAhB,yBAAmCb,EAAnC,QACA,0CACCH,EAAW,4BAAIA,IAAgB,wCAEhC,wCACCC,GAAUA,EAAOgB,OAAS,EACzB,mBAAGR,UAAWC,IAAET,OAAhB,SACGA,EAAOiB,KAAI,SAAAC,GAAK,OAAIA,EAAMC,QAAMC,KAAK,QAGxC,iDCjCNC,E,4MACJC,MAAQ,CACN5B,MAAO,M,EAYT6B,aAAe,WAAO,IAAD,IACW,EAAKC,MAA3BC,EADW,EACXA,SADW,EACDC,QAEVC,MAAa,OAARF,QAAQ,IAARA,GAAA,UAAAA,EAAUH,aAAV,eAAiBM,OAAQC,IAAOC,O,8FAZ/C,8BAAAC,EAAA,6DACUC,EAAYC,KAAKT,MAAMU,MAAMC,OAA7BH,QADV,SAEyBI,IAAwBJ,GAFjD,QAEQK,EAFR,SAIIJ,KAAKK,SAAS,CAAE5C,MAAO2C,EAASE,OAElCC,QAAQC,IAAIJ,GANd,gD,0EAuBA,WACE,OACE,gCACE,wBAAQK,KAAK,SAASC,QAASV,KAAKW,YAApC,4BAGsB,OAArBX,KAAKX,MAAM5B,OACV,mCACE,cAAC,EAAD,CAAeA,MAAOuC,KAAKX,MAAM5B,MAAOC,WAAYA,a,GApCjCkD,aA6ChBxB,a,6LChDAyB,I,2EAAf,4CAAAf,EAAA,6DAAiCgB,EAAjC,+BAAuC,GAAIC,EAA3C,+BAAoD,GAApD,kBAG2BC,IAAMF,EAAKC,GAHtC,cAGUX,EAHV,yBAKWA,GALX,gCAOIG,QAAQC,IAAR,MAPJ,0D,sBAWO,SAASS,IACd,OAAOJ,EAAkB,uBAGpB,SAASK,EAAmBC,GACjC,OAAON,EAAkB,sBAAD,OAAuBM,IAG1C,SAASC,EAAerB,GAC7B,OAAOc,EAAkB,SAAD,OAAUd,IAvBpCiB,IAAMK,SAASC,QAAU,+BACzBN,IAAMK,SAASnB,OAAS,CAAEqB,QAAS","file":"static/js/8.becd85b2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieMainInfo\":\"MovieMainInfo_movieMainInfo__2IA2q\",\"movieDesc\":\"MovieMainInfo_movieDesc__3t1_9\",\"MovieDesc\":\"MovieMainInfo_MovieDesc__1tfQY\",\"button-back\":\"MovieMainInfo_button-back__2wNOT\"};","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","export default {\r\n  imagePoster: 'http://image.tmdb.org/t/p/w185',\r\n  imageProfile: 'http://image.tmdb.org/t/p/w45',\r\n};\r\n","import React from 'react';\r\nimport pathLink from '../../../path';\r\nimport s from './MovieMainInfo.module.css';\r\n\r\nconst MovieMainInfo = ({ movie, defaultImg }) => {\r\n  const {\r\n    title,\r\n    poster_path,\r\n    vote_average,\r\n    overview,\r\n    genres,\r\n    release_date,\r\n  } = movie;\r\n\r\n  const userScore = vote_average * 10;\r\n\r\n  const imgPath = `${pathLink.imagePoster}${poster_path}`;\r\n  const imgUrl = poster_path ? imgPath : defaultImg;\r\n  const releaseYear = release_date.slice(0, 4);\r\n\r\n  return (\r\n    <>\r\n      <div className={s.movieMainInfo}>\r\n        <div className=\"MovieImg\">\r\n          <img className=\"poster\" src={imgUrl} alt={title} width={185} />\r\n        </div>\r\n\r\n        <div className={s.movieDesc}>\r\n          <h2 className=\"title\">\r\n            {title}({releaseYear})\r\n          </h2>\r\n          <p className={s.text}>User score: {userScore} %</p>\r\n          <h3>Overview</h3>\r\n          {overview ? <p>{overview}</p> : <p>No data</p>}\r\n\r\n          <h3>Genres</h3>\r\n          {genres && genres.length > 0 ? (\r\n            <p className={s.genres}>\r\n              {genres.map(genre => genre.name).join(', ')}\r\n            </p>\r\n          ) : (\r\n            <p>No data</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieMainInfo;\r\n","import { Component } from 'react';\r\nimport * as getFetch from '../servises/tmdb-api';\r\nimport defaultImg from '../../src/default.jpg';\r\nimport routes from '../routes';\r\n\r\nimport MovieMainInfo from '../components/MovieInfo/MainInfo/MovieMainInfo';\r\n// import MovieOtherInfo from '../components/MovieInfo/OtherInfo/MovieOtherInfo';\r\n\r\nclass MovieDetalisPage extends Component {\r\n  state = {\r\n    movie: null,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { movieId } = this.props.match.params;\r\n    const response = await getFetch.fetchMovieById(movieId);\r\n    if (response) {\r\n      this.setState({ movie: response.data });\r\n    }\r\n    console.log(response);\r\n  }\r\n\r\n  handleGoback = () => {\r\n    const { location, history } = this.props;\r\n\r\n    history.push(location?.state?.from || routes.home);\r\n  };\r\n\r\n  // handleGoback = () => {\r\n  //   const { location, history } = this.props;\r\n  //   if (location.state && location.state.from) {\r\n  //     return history.push(location.state.from);\r\n  //   }\r\n  //   history.push(routes.home);\r\n  // };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button type=\"button\" onClick={this.handleGobak}>\r\n          &#8592; Go back\r\n        </button>\r\n        {this.state.movie !== null && (\r\n          <>\r\n            <MovieMainInfo movie={this.state.movie} defaultImg={defaultImg} />\r\n            {/* <MovieOtherInfo /> */}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetalisPage;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\naxios.defaults.params = { api_key: '91aea6be0a2d3e1853dbbebc31e6363d' };\r\n\r\nasync function fetchMoviesCommon(url = '', config = {}) {\r\n  // console.dir(axios);\r\n  try {\r\n    const response = await axios(url, config);\r\n    // console.log(response.data.results);\r\n    return response;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport function fetchMoviesTrending() {\r\n  return fetchMoviesCommon('trending/movie/week');\r\n}\r\n\r\nexport function fetchMovieOnSubmit(query) {\r\n  return fetchMoviesCommon(`search/movie?query=${query}`);\r\n}\r\n\r\nexport function fetchMovieById(movieId) {\r\n  return fetchMoviesCommon(`movie/${movieId}`);\r\n}\r\n\r\n// const fetchSearchMovies = ({ searchQuery = '' }) => {\r\n//   return axios\r\n//     .get(`${baseURL}/search/movie?query=${searchQuery}&api_key=${apiKey}`)\r\n//     .then(({ data }) => data)\r\n//     .catch(error => error);\r\n// };\r\n"],"sourceRoot":""}